2025/05/19 18:08:14 [2025-05-19 18:08:14.310] [INFO] [main.go:39] Starting Owlverload API server
2025/05/19 18:08:14 [2025-05-19 18:08:14.311] [INFO] [main.go:44] Loaded development environment
2025/05/19 18:08:14 [2025-05-19 18:08:14.311] [TRACE] [db.go:33] Entering db.go:33
2025/05/19 18:08:14 [2025-05-19 18:08:14.311] [INFO] [db.go:35] Connecting to database: 127.0.0.1:3306/item_registration
2025/05/19 18:08:14 [2025-05-19 18:08:14.311] [DEBUG] [db.go:40] Connection string: sp6_order_board1:***@tcp(127.0.0.1:3306)/item_registration?parseTime=true
2025/05/19 18:08:14 [2025-05-19 18:08:14.314] [INFO] [db.go:59] Database connected successfully
2025/05/19 18:08:14 [2025-05-19 18:08:14.314] [TRACE] [db.go:60] Exiting db.go:60
2025/05/19 18:08:24 [2025-05-19 18:08:24.722] [INFO] [main.go:39] Starting Owlverload API server
2025/05/19 18:08:24 [2025-05-19 18:08:24.722] [INFO] [main.go:44] Loaded development environment
2025/05/19 18:08:24 [2025-05-19 18:08:24.722] [TRACE] [db.go:33] Entering db.go:33
2025/05/19 18:08:24 [2025-05-19 18:08:24.722] [INFO] [db.go:35] Connecting to database: 127.0.0.1:3306/item_registration
2025/05/19 18:08:24 [2025-05-19 18:08:24.722] [DEBUG] [db.go:40] Connection string: sp6_order_board1:***@tcp(127.0.0.1:3306)/item_registration?parseTime=true
2025/05/19 18:08:24 [2025-05-19 18:08:24.724] [INFO] [db.go:59] Database connected successfully
2025/05/19 18:08:24 [2025-05-19 18:08:24.724] [TRACE] [db.go:60] Exiting db.go:60
2025/05/20 08:35:31 [2025-05-20 08:35:31.292] [INFO] [main.go:39] Starting Owlverload API server
2025/05/20 08:35:31 [2025-05-20 08:35:31.293] [INFO] [main.go:44] Loaded development environment
2025/05/20 08:35:31 [2025-05-20 08:35:31.293] [TRACE] [db.go:33] Entering db.go:33
2025/05/20 08:35:31 [2025-05-20 08:35:31.293] [INFO] [db.go:35] Connecting to database: 127.0.0.1:3306/item_registration
2025/05/20 08:35:31 [2025-05-20 08:35:31.293] [DEBUG] [db.go:40] Connection string: sp6_order_board1:***@tcp(127.0.0.1:3306)/item_registration?parseTime=true
2025/05/20 08:35:31 [2025-05-20 08:35:31.295] [INFO] [db.go:62] Database connected successfully
2025/05/20 08:35:31 [2025-05-20 08:35:31.295] [TRACE] [db.go:63] Exiting db.go:63
2025/05/22 06:48:56 [2025-05-22 06:48:56.683] [INFO] [main.go:39] Starting Owlverload API server
2025/05/22 06:48:56 [2025-05-22 06:48:56.684] [INFO] [main.go:44] Loaded development environment
2025/05/22 06:48:56 [2025-05-22 06:48:56.684] [TRACE] [db.go:33] Entering db.go:33
2025/05/22 06:48:56 [2025-05-22 06:48:56.684] [INFO] [db.go:35] Connecting to database: 127.0.0.1:3306/item_registration
2025/05/22 06:48:56 [2025-05-22 06:48:56.684] [DEBUG] [db.go:40] Connection string: sp6_order_board1:***@tcp(127.0.0.1:3306)/item_registration?parseTime=true
2025/05/22 06:48:56 [2025-05-22 06:48:56.686] [INFO] [db.go:62] Database connected successfully
2025/05/22 06:48:56 [2025-05-22 06:48:56.686] [TRACE] [db.go:63] Exiting db.go:63
2025/05/22 06:48:59 [2025-05-22 06:48:59.783] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 06:48:59 [2025-05-22 06:48:59.783] [DEBUG] [db.go:140] Getting database instance
2025/05/22 06:48:59 [2025-05-22 06:48:59.783] [INFO] [db.go:143] Initializing database instance (first call)
2025/05/22 06:48:59 [2025-05-22 06:48:59.783] [TRACE] [db.go:33] Entering db.go:33
2025/05/22 06:48:59 [2025-05-22 06:48:59.784] [INFO] [db.go:35] Connecting to database: 127.0.0.1:3306/item_registration
2025/05/22 06:48:59 [2025-05-22 06:48:59.784] [DEBUG] [db.go:40] Connection string: sp6_order_board1:***@tcp(127.0.0.1:3306)/item_registration?parseTime=true
2025/05/22 06:48:59 [2025-05-22 06:48:59.785] [INFO] [db.go:62] Database connected successfully
2025/05/22 06:48:59 [2025-05-22 06:48:59.785] [TRACE] [db.go:63] Exiting db.go:63
2025/05/22 06:48:59 [2025-05-22 06:48:59.787] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 06:48:59 [2025-05-22 06:48:59.787] [DEBUG] [db.go:140] Getting database instance
2025/05/22 06:48:59 [2025-05-22 06:48:59.788] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 06:48:59 [2025-05-22 06:48:59.788] [DEBUG] [db.go:140] Getting database instance
2025/05/22 06:49:20 [2025-05-22 06:49:20.916] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 06:49:20 [2025-05-22 06:49:20.916] [DEBUG] [db.go:140] Getting database instance
2025/05/22 06:49:20 [2025-05-22 06:49:20.918] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 06:49:20 [2025-05-22 06:49:20.918] [DEBUG] [db.go:140] Getting database instance
2025/05/22 06:49:20 [2025-05-22 06:49:20.920] [TRACE] [itemRoutes.go:308] Entering itemRoutes.go:308
2025/05/22 06:49:20 [2025-05-22 06:49:20.920] [INFO] [itemRoutes.go:309] Starting HandleStockOut operation
2025/05/22 06:49:20 [2025-05-22 06:49:20.920] [INFO] [itemRoutes.go:314] User handling stock out: idjjm92@gmail.com
2025/05/22 06:49:20 [2025-05-22 06:49:20.920] [DEBUG] [itemRoutes.go:322] Reading request body
2025/05/22 06:49:20 [2025-05-22 06:49:20.920] [DEBUG] [itemRoutes.go:331] Unmarshaling request JSON
2025/05/22 06:49:20 [2025-05-22 06:49:20.920] [DEBUG] [itemRoutes.go:333] Request content: {Stock:{StockId:33 ItemId:46 BoxNumber:4 SingleNumber:0 BundleNumber:0 ExpiryDate:2025-06-17 08:46:32 +0000 UTC Location: RegisteringPerson:정지명 Notes: CreatedAt:2025-05-18 09:46:40 +0000 UTC} StockType:BOX Quantity:1 UserEmail: Date:0001-01-01 00:00:00 +0000 UTC Notes:}
2025/05/22 06:49:20 [2025-05-22 06:49:20.920] [DEBUG] [itemRoutes.go:342] Validating request
2025/05/22 06:49:20 [2025-05-22 06:49:20.921] [DEBUG] [itemRoutes.go:355] Stock type: BOX
2025/05/22 06:49:20 [2025-05-22 06:49:20.921] [DEBUG] [itemRoutes.go:364] Current stock: 4, Requested quantity: 1, Remaining: 3
2025/05/22 06:49:20 [2025-05-22 06:49:20.921] [INFO] [itemRoutes.go:376] Getting database instance and starting transaction
2025/05/22 06:49:20 [2025-05-22 06:49:20.921] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 06:49:20 [2025-05-22 06:49:20.921] [DEBUG] [db.go:140] Getting database instance
2025/05/22 06:49:20 [2025-05-22 06:49:20.922] [INFO] [itemRoutes.go:397] Updating stock quantity
2025/05/22 06:49:20 [2025-05-22 06:49:20.924] [DEBUG] [itemRoutes.go:405] Stock quantity updated successfully
2025/05/22 06:49:20 [2025-05-22 06:49:20.924] [INFO] [itemRoutes.go:420] Recording stock transaction
2025/05/22 06:49:20 [2025-05-22 06:49:20.926] [DEBUG] [itemRoutes.go:428] Transaction recorded successfully
2025/05/22 06:49:20 [2025-05-22 06:49:20.926] [INFO] [itemRoutes.go:431] Committing transaction
2025/05/22 06:49:20 [2025-05-22 06:49:20.929] [INFO] [itemRoutes.go:438] Transaction committed successfully
2025/05/22 06:49:20 [2025-05-22 06:49:20.929] [INFO] [itemRoutes.go:444] Fetching updated stock list for item: 46
2025/05/22 06:49:20 [2025-05-22 06:49:20.930] [TRACE] [item.go:490] Entering item.go:490
2025/05/22 06:49:20 [2025-05-22 06:49:20.930] [INFO] [item.go:491] Getting stocks for item ID: 46
2025/05/22 06:49:20 [2025-05-22 06:49:20.930] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 06:49:20 [2025-05-22 06:49:20.930] [DEBUG] [db.go:140] Getting database instance
2025/05/22 06:49:20 [2025-05-22 06:49:20.930] [DEBUG] [item.go:506] Executing query: SELECT stock_id, fkproduct_id, box_number, single_number, bundle_number, expiry_date, location, registering_person, notes, created_at FROM stocks WHERE fkproduct_id = ? with item ID: 46
2025/05/22 06:49:20 [2025-05-22 06:49:20.932] [DEBUG] [item.go:534] Found stock: ID=33, BoxNumber=3, Location=
2025/05/22 06:49:20 [2025-05-22 06:49:20.932] [INFO] [item.go:545] Retrieved 1 stocks for item 46
2025/05/22 06:49:20 [2025-05-22 06:49:20.932] [TRACE] [item.go:546] Exiting item.go:546
2025/05/22 06:49:20 [2025-05-22 06:49:20.932] [DEBUG] [itemRoutes.go:452] Successfully fetched 1 updated stock records
2025/05/22 06:49:20 [2025-05-22 06:49:20.932] [INFO] [itemRoutes.go:455] Fetching updated item data for item: 46
2025/05/22 06:49:20 [2025-05-22 06:49:20.932] [TRACE] [item.go:438] Entering item.go:438
2025/05/22 06:49:20 [2025-05-22 06:49:20.932] [INFO] [item.go:439] Getting item by ID: 46
2025/05/22 06:49:20 [2025-05-22 06:49:20.933] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 06:49:20 [2025-05-22 06:49:20.933] [DEBUG] [db.go:140] Getting database instance
2025/05/22 06:49:20 [2025-05-22 06:49:20.933] [DEBUG] [item.go:458] Executing query: SELECT item_id, code, IFNULL(barcode, ''), IFNULL(name, ''), IFNULL(type, ''), IFNULL(available_for_order, 0), IFNULL(image_path, ''), created_at, IFNULL(name_jpn, ''), IFNULL(name_chn, ''), IFNULL(name_kor, ''), IFNULL(name_eng, '') FROM items WHERE item_id = ? with item ID: 46
2025/05/22 06:49:20 [2025-05-22 06:49:20.935] [INFO] [item.go:484] Successfully retrieved item: ID=46, Name='치킨 불닭 오리지날 멀티팩', Code=105095
2025/05/22 06:49:20 [2025-05-22 06:49:20.935] [TRACE] [item.go:486] Exiting item.go:486
2025/05/22 06:49:20 [2025-05-22 06:49:20.935] [DEBUG] [itemRoutes.go:463] Successfully fetched updated item data
2025/05/22 06:49:20 [2025-05-22 06:49:20.935] [INFO] [itemRoutes.go:469] Preparing response with updated item and stock information
2025/05/22 06:49:20 [2025-05-22 06:49:20.935] [INFO] [itemRoutes.go:477] Stock out operation completed successfully
2025/05/22 06:49:20 [2025-05-22 06:49:20.935] [TRACE] [itemRoutes.go:479] Exiting itemRoutes.go:479
2025/05/22 09:29:34 [2025-05-22 09:29:34.326] [INFO] [main.go:39] Starting Owlverload API server
2025/05/22 09:29:34 [2025-05-22 09:29:34.326] [INFO] [main.go:44] Loaded development environment
2025/05/22 09:29:34 [2025-05-22 09:29:34.326] [TRACE] [db.go:33] Entering db.go:33
2025/05/22 09:29:34 [2025-05-22 09:29:34.326] [INFO] [db.go:35] Connecting to database: 127.0.0.1:3306/item_registration
2025/05/22 09:29:34 [2025-05-22 09:29:34.326] [DEBUG] [db.go:40] Connection string: sp6_order_board1:***@tcp(127.0.0.1:3306)/item_registration?parseTime=true
2025/05/22 09:29:34 [2025-05-22 09:29:34.327] [INFO] [db.go:62] Database connected successfully
2025/05/22 09:29:34 [2025-05-22 09:29:34.327] [TRACE] [db.go:63] Exiting db.go:63
2025/05/22 09:29:41 [2025-05-22 09:29:41.311] [INFO] [main.go:39] Starting Owlverload API server
2025/05/22 09:29:41 [2025-05-22 09:29:41.311] [INFO] [main.go:44] Loaded development environment
2025/05/22 09:29:41 [2025-05-22 09:29:41.311] [TRACE] [db.go:33] Entering db.go:33
2025/05/22 09:29:41 [2025-05-22 09:29:41.311] [INFO] [db.go:35] Connecting to database: 127.0.0.1:3306/item_registration
2025/05/22 09:29:41 [2025-05-22 09:29:41.311] [DEBUG] [db.go:40] Connection string: sp6_order_board1:***@tcp(127.0.0.1:3306)/item_registration?parseTime=true
2025/05/22 09:29:41 [2025-05-22 09:29:41.313] [INFO] [db.go:62] Database connected successfully
2025/05/22 09:29:41 [2025-05-22 09:29:41.313] [TRACE] [db.go:63] Exiting db.go:63
2025/05/22 09:49:46 [2025-05-22 09:49:46.228] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 09:49:46 [2025-05-22 09:49:46.229] [DEBUG] [db.go:140] Getting database instance
2025/05/22 09:49:46 [2025-05-22 09:49:46.229] [INFO] [db.go:143] Initializing database instance (first call)
2025/05/22 09:49:46 [2025-05-22 09:49:46.229] [TRACE] [db.go:33] Entering db.go:33
2025/05/22 09:49:46 [2025-05-22 09:49:46.230] [INFO] [db.go:35] Connecting to database: 127.0.0.1:3306/item_registration
2025/05/22 09:49:46 [2025-05-22 09:49:46.230] [DEBUG] [db.go:40] Connection string: sp6_order_board1:***@tcp(127.0.0.1:3306)/item_registration?parseTime=true
2025/05/22 09:49:46 [2025-05-22 09:49:46.232] [INFO] [db.go:62] Database connected successfully
2025/05/22 09:49:46 [2025-05-22 09:49:46.232] [TRACE] [db.go:63] Exiting db.go:63
2025/05/22 09:49:46 [2025-05-22 09:49:46.234] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 09:49:46 [2025-05-22 09:49:46.234] [DEBUG] [db.go:140] Getting database instance
2025/05/22 09:52:28 [2025-05-22 09:52:28.134] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 09:52:28 [2025-05-22 09:52:28.135] [DEBUG] [db.go:140] Getting database instance
2025/05/22 09:52:28 [2025-05-22 09:52:28.136] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 09:52:28 [2025-05-22 09:52:28.136] [DEBUG] [db.go:140] Getting database instance
2025/05/22 09:52:28 [2025-05-22 09:52:28.138] [TRACE] [barcodeRoutes.go:20] Entering barcodeRoutes.go:20
2025/05/22 09:52:28 [2025-05-22 09:52:28.138] [INFO] [barcodeRoutes.go:21] Starting HandleSaveBarcode operation
2025/05/22 09:52:28 [2025-05-22 09:52:28.138] [INFO] [barcodeRoutes.go:26] User handling barcode save: idjjm92@gmail.com
2025/05/22 09:52:28 [2025-05-22 09:52:28.138] [DEBUG] [barcodeRoutes.go:35] Reading request body
2025/05/22 09:52:28 [2025-05-22 09:52:28.138] [DEBUG] [barcodeRoutes.go:44] Unmarshaling request JSON
2025/05/22 09:52:28 [2025-05-22 09:52:28.138] [DEBUG] [barcodeRoutes.go:53] Validating request
2025/05/22 09:52:28 [2025-05-22 09:52:28.138] [INFO] [barcodeRoutes.go:61] Saving barcode: 8801073110502
2025/05/22 09:52:28 [2025-05-22 09:52:28.138] [TRACE] [barcode.go:19] Entering barcode.go:19
2025/05/22 09:52:28 [2025-05-22 09:52:28.138] [INFO] [barcode.go:20] Saving barcode: 8801073110502
2025/05/22 09:52:28 [2025-05-22 09:52:28.138] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 09:52:28 [2025-05-22 09:52:28.138] [DEBUG] [db.go:140] Getting database instance
2025/05/22 09:52:28 [2025-05-22 09:52:28.139] [INFO] [barcode.go:42] Starting transaction to save barcode
2025/05/22 09:52:28 [2025-05-22 09:52:28.139] [ERROR] [barcode.go:62] Error checking if barcode exists: Error 1054 (42S22): Unknown column 'code' in 'where clause'
2025/05/22 09:52:28 [2025-05-22 09:52:28.140] [WARN] [barcode.go:52] Rolling back transaction - this happens if there was an error
2025/05/22 09:52:28 [2025-05-22 09:52:28.140] [TRACE] [barcode.go:63] Exiting barcode.go:63
2025/05/22 09:52:28 [2025-05-22 09:52:28.140] [ERROR] [barcodeRoutes.go:65] Error saving barcode: error checking existing barcode: Error 1054 (42S22): Unknown column 'code' in 'where clause'
2025/05/22 09:52:28 [2025-05-22 09:52:28.140] [TRACE] [barcodeRoutes.go:67] Exiting barcodeRoutes.go:67
2025/05/22 09:57:58 [2025-05-22 09:57:58.554] [INFO] [main.go:39] Starting Owlverload API server
2025/05/22 09:57:58 [2025-05-22 09:57:58.555] [INFO] [main.go:44] Loaded development environment
2025/05/22 09:57:58 [2025-05-22 09:57:58.555] [TRACE] [db.go:33] Entering db.go:33
2025/05/22 09:57:58 [2025-05-22 09:57:58.555] [INFO] [db.go:35] Connecting to database: 127.0.0.1:3306/item_registration
2025/05/22 09:57:58 [2025-05-22 09:57:58.555] [DEBUG] [db.go:40] Connection string: sp6_order_board1:***@tcp(127.0.0.1:3306)/item_registration?parseTime=true
2025/05/22 09:57:58 [2025-05-22 09:57:58.558] [INFO] [db.go:62] Database connected successfully
2025/05/22 09:57:58 [2025-05-22 09:57:58.558] [TRACE] [db.go:63] Exiting db.go:63
2025/05/22 10:05:06 [2025-05-22 10:05:06.671] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 10:05:06 [2025-05-22 10:05:06.671] [DEBUG] [db.go:140] Getting database instance
2025/05/22 10:05:06 [2025-05-22 10:05:06.671] [INFO] [db.go:143] Initializing database instance (first call)
2025/05/22 10:05:06 [2025-05-22 10:05:06.671] [TRACE] [db.go:33] Entering db.go:33
2025/05/22 10:05:06 [2025-05-22 10:05:06.671] [INFO] [db.go:35] Connecting to database: 127.0.0.1:3306/item_registration
2025/05/22 10:05:06 [2025-05-22 10:05:06.671] [DEBUG] [db.go:40] Connection string: sp6_order_board1:***@tcp(127.0.0.1:3306)/item_registration?parseTime=true
2025/05/22 10:05:06 [2025-05-22 10:05:06.674] [INFO] [db.go:62] Database connected successfully
2025/05/22 10:05:06 [2025-05-22 10:05:06.674] [TRACE] [db.go:63] Exiting db.go:63
2025/05/22 10:05:06 [2025-05-22 10:05:06.676] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 10:05:06 [2025-05-22 10:05:06.676] [DEBUG] [db.go:140] Getting database instance
2025/05/22 10:05:11 [2025-05-22 10:05:11.184] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 10:05:11 [2025-05-22 10:05:11.184] [DEBUG] [db.go:140] Getting database instance
2025/05/22 10:05:11 [2025-05-22 10:05:11.185] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 10:05:11 [2025-05-22 10:05:11.185] [DEBUG] [db.go:140] Getting database instance
2025/05/22 10:05:11 [2025-05-22 10:05:11.187] [TRACE] [barcodeRoutes.go:20] Entering barcodeRoutes.go:20
2025/05/22 10:05:11 [2025-05-22 10:05:11.188] [INFO] [barcodeRoutes.go:21] Starting HandleSaveBarcode operation
2025/05/22 10:05:11 [2025-05-22 10:05:11.188] [INFO] [barcodeRoutes.go:26] User handling barcode save: idjjm92@gmail.com
2025/05/22 10:05:11 [2025-05-22 10:05:11.188] [DEBUG] [barcodeRoutes.go:35] Reading request body
2025/05/22 10:05:11 [2025-05-22 10:05:11.188] [DEBUG] [barcodeRoutes.go:44] Unmarshaling request JSON
2025/05/22 10:05:11 [2025-05-22 10:05:11.188] [DEBUG] [barcodeRoutes.go:53] Validating request
2025/05/22 10:05:11 [2025-05-22 10:05:11.188] [INFO] [barcodeRoutes.go:61] Saving barcode: 8801073110502
2025/05/22 10:05:11 [2025-05-22 10:05:11.188] [TRACE] [barcode.go:19] Entering barcode.go:19
2025/05/22 10:05:11 [2025-05-22 10:05:11.188] [INFO] [barcode.go:20] Saving barcode: 8801073110502
2025/05/22 10:05:11 [2025-05-22 10:05:11.188] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 10:05:11 [2025-05-22 10:05:11.188] [DEBUG] [db.go:140] Getting database instance
2025/05/22 10:05:11 [2025-05-22 10:05:11.188] [INFO] [barcode.go:42] Starting transaction to save barcode
2025/05/22 10:05:11 [2025-05-22 10:05:11.191] [ERROR] [barcode.go:75] Error inserting barcode: Error 1054 (42S22): Unknown column 'id' in 'field list'
2025/05/22 10:05:11 [2025-05-22 10:05:11.192] [WARN] [barcode.go:52] Rolling back transaction - this happens if there was an error
2025/05/22 10:05:11 [2025-05-22 10:05:11.192] [TRACE] [barcode.go:76] Exiting barcode.go:76
2025/05/22 10:05:11 [2025-05-22 10:05:11.192] [ERROR] [barcodeRoutes.go:65] Error saving barcode: error saving barcode: Error 1054 (42S22): Unknown column 'id' in 'field list'
2025/05/22 10:05:11 [2025-05-22 10:05:11.192] [TRACE] [barcodeRoutes.go:67] Exiting barcodeRoutes.go:67
2025/05/22 10:05:57 [2025-05-22 10:05:57.281] [INFO] [main.go:39] Starting Owlverload API server
2025/05/22 10:05:57 [2025-05-22 10:05:57.282] [INFO] [main.go:44] Loaded development environment
2025/05/22 10:05:57 [2025-05-22 10:05:57.282] [TRACE] [db.go:33] Entering db.go:33
2025/05/22 10:05:57 [2025-05-22 10:05:57.282] [INFO] [db.go:35] Connecting to database: 127.0.0.1:3306/item_registration
2025/05/22 10:05:57 [2025-05-22 10:05:57.282] [DEBUG] [db.go:40] Connection string: sp6_order_board1:***@tcp(127.0.0.1:3306)/item_registration?parseTime=true
2025/05/22 10:05:57 [2025-05-22 10:05:57.284] [INFO] [db.go:62] Database connected successfully
2025/05/22 10:05:57 [2025-05-22 10:05:57.284] [TRACE] [db.go:63] Exiting db.go:63
2025/05/22 10:06:02 [2025-05-22 10:06:02.899] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 10:06:02 [2025-05-22 10:06:02.899] [DEBUG] [db.go:140] Getting database instance
2025/05/22 10:06:02 [2025-05-22 10:06:02.899] [INFO] [db.go:143] Initializing database instance (first call)
2025/05/22 10:06:02 [2025-05-22 10:06:02.899] [TRACE] [db.go:33] Entering db.go:33
2025/05/22 10:06:02 [2025-05-22 10:06:02.899] [INFO] [db.go:35] Connecting to database: 127.0.0.1:3306/item_registration
2025/05/22 10:06:02 [2025-05-22 10:06:02.899] [DEBUG] [db.go:40] Connection string: sp6_order_board1:***@tcp(127.0.0.1:3306)/item_registration?parseTime=true
2025/05/22 10:06:02 [2025-05-22 10:06:02.902] [INFO] [db.go:62] Database connected successfully
2025/05/22 10:06:02 [2025-05-22 10:06:02.902] [TRACE] [db.go:63] Exiting db.go:63
2025/05/22 10:06:02 [2025-05-22 10:06:02.904] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 10:06:02 [2025-05-22 10:06:02.904] [DEBUG] [db.go:140] Getting database instance
2025/05/22 10:06:02 [2025-05-22 10:06:02.906] [TRACE] [barcodeRoutes.go:20] Entering barcodeRoutes.go:20
2025/05/22 10:06:02 [2025-05-22 10:06:02.906] [INFO] [barcodeRoutes.go:21] Starting HandleSaveBarcode operation
2025/05/22 10:06:02 [2025-05-22 10:06:02.906] [INFO] [barcodeRoutes.go:26] User handling barcode save: idjjm92@gmail.com
2025/05/22 10:06:02 [2025-05-22 10:06:02.906] [DEBUG] [barcodeRoutes.go:35] Reading request body
2025/05/22 10:06:02 [2025-05-22 10:06:02.906] [DEBUG] [barcodeRoutes.go:44] Unmarshaling request JSON
2025/05/22 10:06:02 [2025-05-22 10:06:02.906] [DEBUG] [barcodeRoutes.go:53] Validating request
2025/05/22 10:06:02 [2025-05-22 10:06:02.906] [INFO] [barcodeRoutes.go:61] Saving barcode: 8801073110502
2025/05/22 10:06:02 [2025-05-22 10:06:02.906] [TRACE] [barcode.go:19] Entering barcode.go:19
2025/05/22 10:06:02 [2025-05-22 10:06:02.906] [INFO] [barcode.go:20] Saving barcode: 8801073110502
2025/05/22 10:06:02 [2025-05-22 10:06:02.906] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 10:06:02 [2025-05-22 10:06:02.906] [DEBUG] [db.go:140] Getting database instance
2025/05/22 10:06:02 [2025-05-22 10:06:02.906] [INFO] [barcode.go:42] Starting transaction to save barcode
2025/05/22 10:06:02 [2025-05-22 10:06:02.908] [ERROR] [barcode.go:75] Error inserting barcode: Error 1054 (42S22): Unknown column 'code' in 'field list'
2025/05/22 10:06:02 [2025-05-22 10:06:02.908] [WARN] [barcode.go:52] Rolling back transaction - this happens if there was an error
2025/05/22 10:06:02 [2025-05-22 10:06:02.908] [TRACE] [barcode.go:76] Exiting barcode.go:76
2025/05/22 10:06:02 [2025-05-22 10:06:02.908] [ERROR] [barcodeRoutes.go:65] Error saving barcode: error saving barcode: Error 1054 (42S22): Unknown column 'code' in 'field list'
2025/05/22 10:06:02 [2025-05-22 10:06:02.909] [TRACE] [barcodeRoutes.go:67] Exiting barcodeRoutes.go:67
2025/05/22 10:06:31 [2025-05-22 10:06:31.865] [INFO] [main.go:39] Starting Owlverload API server
2025/05/22 10:06:31 [2025-05-22 10:06:31.866] [INFO] [main.go:44] Loaded development environment
2025/05/22 10:06:31 [2025-05-22 10:06:31.866] [TRACE] [db.go:33] Entering db.go:33
2025/05/22 10:06:31 [2025-05-22 10:06:31.866] [INFO] [db.go:35] Connecting to database: 127.0.0.1:3306/item_registration
2025/05/22 10:06:31 [2025-05-22 10:06:31.866] [DEBUG] [db.go:40] Connection string: sp6_order_board1:***@tcp(127.0.0.1:3306)/item_registration?parseTime=true
2025/05/22 10:06:31 [2025-05-22 10:06:31.867] [INFO] [db.go:62] Database connected successfully
2025/05/22 10:06:31 [2025-05-22 10:06:31.867] [TRACE] [db.go:63] Exiting db.go:63
2025/05/22 10:06:34 [2025-05-22 10:06:34.631] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 10:06:34 [2025-05-22 10:06:34.631] [DEBUG] [db.go:140] Getting database instance
2025/05/22 10:06:34 [2025-05-22 10:06:34.631] [INFO] [db.go:143] Initializing database instance (first call)
2025/05/22 10:06:34 [2025-05-22 10:06:34.631] [TRACE] [db.go:33] Entering db.go:33
2025/05/22 10:06:34 [2025-05-22 10:06:34.631] [INFO] [db.go:35] Connecting to database: 127.0.0.1:3306/item_registration
2025/05/22 10:06:34 [2025-05-22 10:06:34.631] [DEBUG] [db.go:40] Connection string: sp6_order_board1:***@tcp(127.0.0.1:3306)/item_registration?parseTime=true
2025/05/22 10:06:34 [2025-05-22 10:06:34.633] [INFO] [db.go:62] Database connected successfully
2025/05/22 10:06:34 [2025-05-22 10:06:34.633] [TRACE] [db.go:63] Exiting db.go:63
2025/05/22 10:06:34 [2025-05-22 10:06:34.634] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 10:06:34 [2025-05-22 10:06:34.634] [DEBUG] [db.go:140] Getting database instance
2025/05/22 10:06:34 [2025-05-22 10:06:34.634] [TRACE] [barcodeRoutes.go:20] Entering barcodeRoutes.go:20
2025/05/22 10:06:34 [2025-05-22 10:06:34.634] [INFO] [barcodeRoutes.go:21] Starting HandleSaveBarcode operation
2025/05/22 10:06:34 [2025-05-22 10:06:34.634] [INFO] [barcodeRoutes.go:26] User handling barcode save: idjjm92@gmail.com
2025/05/22 10:06:34 [2025-05-22 10:06:34.634] [DEBUG] [barcodeRoutes.go:35] Reading request body
2025/05/22 10:06:34 [2025-05-22 10:06:34.634] [DEBUG] [barcodeRoutes.go:44] Unmarshaling request JSON
2025/05/22 10:06:34 [2025-05-22 10:06:34.634] [DEBUG] [barcodeRoutes.go:53] Validating request
2025/05/22 10:06:34 [2025-05-22 10:06:34.634] [INFO] [barcodeRoutes.go:61] Saving barcode: 8801073110502
2025/05/22 10:06:34 [2025-05-22 10:06:34.634] [TRACE] [barcode.go:19] Entering barcode.go:19
2025/05/22 10:06:34 [2025-05-22 10:06:34.635] [INFO] [barcode.go:20] Saving barcode: 8801073110502
2025/05/22 10:06:34 [2025-05-22 10:06:34.635] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 10:06:34 [2025-05-22 10:06:34.635] [DEBUG] [db.go:140] Getting database instance
2025/05/22 10:06:34 [2025-05-22 10:06:34.635] [INFO] [barcode.go:42] Starting transaction to save barcode
2025/05/22 10:06:34 [2025-05-22 10:06:34.636] [INFO] [barcode.go:80] Committing transaction
2025/05/22 10:06:34 [2025-05-22 10:06:34.637] [INFO] [barcode.go:90] Successfully saved barcode: 8801073110502 with ID: barcode_1747904794635057000
2025/05/22 10:06:34 [2025-05-22 10:06:34.637] [TRACE] [barcode.go:91] Exiting barcode.go:91
2025/05/22 10:06:34 [2025-05-22 10:06:34.637] [INFO] [barcodeRoutes.go:71] Barcode saved successfully: 8801073110502
2025/05/22 10:06:34 [2025-05-22 10:06:34.637] [TRACE] [barcodeRoutes.go:79] Exiting barcodeRoutes.go:79
2025/05/22 10:06:58 [2025-05-22 10:06:58.528] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 10:06:58 [2025-05-22 10:06:58.529] [DEBUG] [db.go:140] Getting database instance
2025/05/22 10:06:58 [2025-05-22 10:06:58.530] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 10:06:58 [2025-05-22 10:06:58.530] [DEBUG] [db.go:140] Getting database instance
2025/05/22 10:06:58 [2025-05-22 10:06:58.531] [TRACE] [barcodeRoutes.go:20] Entering barcodeRoutes.go:20
2025/05/22 10:06:58 [2025-05-22 10:06:58.531] [INFO] [barcodeRoutes.go:21] Starting HandleSaveBarcode operation
2025/05/22 10:06:58 [2025-05-22 10:06:58.531] [INFO] [barcodeRoutes.go:26] User handling barcode save: idjjm92@gmail.com
2025/05/22 10:06:58 [2025-05-22 10:06:58.531] [DEBUG] [barcodeRoutes.go:35] Reading request body
2025/05/22 10:06:58 [2025-05-22 10:06:58.531] [DEBUG] [barcodeRoutes.go:44] Unmarshaling request JSON
2025/05/22 10:06:58 [2025-05-22 10:06:58.531] [DEBUG] [barcodeRoutes.go:53] Validating request
2025/05/22 10:06:58 [2025-05-22 10:06:58.531] [INFO] [barcodeRoutes.go:61] Saving barcode: 8801073110502
2025/05/22 10:06:58 [2025-05-22 10:06:58.531] [TRACE] [barcode.go:19] Entering barcode.go:19
2025/05/22 10:06:58 [2025-05-22 10:06:58.531] [INFO] [barcode.go:20] Saving barcode: 8801073110502
2025/05/22 10:06:58 [2025-05-22 10:06:58.531] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/22 10:06:58 [2025-05-22 10:06:58.531] [DEBUG] [db.go:140] Getting database instance
2025/05/22 10:06:58 [2025-05-22 10:06:58.531] [INFO] [barcode.go:42] Starting transaction to save barcode
2025/05/22 10:06:58 [2025-05-22 10:06:58.532] [WARN] [barcode.go:67] Barcode 8801073110502 already exists
2025/05/22 10:06:58 [2025-05-22 10:06:58.532] [WARN] [barcode.go:52] Rolling back transaction - this happens if there was an error
2025/05/22 10:06:58 [2025-05-22 10:06:58.532] [TRACE] [barcode.go:68] Exiting barcode.go:68
2025/05/22 10:06:58 [2025-05-22 10:06:58.532] [ERROR] [barcodeRoutes.go:65] Error saving barcode: barcode 8801073110502 already exists
2025/05/22 10:06:58 [2025-05-22 10:06:58.532] [TRACE] [barcodeRoutes.go:67] Exiting barcodeRoutes.go:67
2025/05/23 14:29:11 [2025-05-23 14:29:11.989] [INFO] [main.go:39] Starting Owlverload API server
2025/05/23 14:29:11 [2025-05-23 14:29:11.990] [INFO] [main.go:44] Loaded development environment
2025/05/23 14:29:11 [2025-05-23 14:29:11.990] [TRACE] [db.go:33] Entering db.go:33
2025/05/23 14:29:11 [2025-05-23 14:29:11.990] [INFO] [db.go:35] Connecting to database: 127.0.0.1:3306/item_registration
2025/05/23 14:29:11 [2025-05-23 14:29:11.990] [DEBUG] [db.go:40] Connection string: sp6_order_board1:***@tcp(127.0.0.1:3306)/item_registration?parseTime=true
2025/05/23 14:29:11 [2025-05-23 14:29:11.992] [INFO] [db.go:62] Database connected successfully
2025/05/23 14:29:11 [2025-05-23 14:29:11.992] [TRACE] [db.go:63] Exiting db.go:63
2025/05/23 14:29:18 [2025-05-23 14:29:18.478] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/23 14:29:18 [2025-05-23 14:29:18.478] [DEBUG] [db.go:140] Getting database instance
2025/05/23 14:29:18 [2025-05-23 14:29:18.478] [INFO] [db.go:143] Initializing database instance (first call)
2025/05/23 14:29:18 [2025-05-23 14:29:18.478] [TRACE] [db.go:33] Entering db.go:33
2025/05/23 14:29:18 [2025-05-23 14:29:18.478] [INFO] [db.go:35] Connecting to database: 127.0.0.1:3306/item_registration
2025/05/23 14:29:18 [2025-05-23 14:29:18.478] [DEBUG] [db.go:40] Connection string: sp6_order_board1:***@tcp(127.0.0.1:3306)/item_registration?parseTime=true
2025/05/23 14:29:18 [2025-05-23 14:29:18.481] [INFO] [db.go:62] Database connected successfully
2025/05/23 14:29:18 [2025-05-23 14:29:18.481] [TRACE] [db.go:63] Exiting db.go:63
2025/05/23 14:29:18 [2025-05-23 14:29:18.482] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/23 14:29:18 [2025-05-23 14:29:18.482] [DEBUG] [db.go:140] Getting database instance
2025/05/23 14:29:18 [2025-05-23 14:29:18.483] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/23 14:29:18 [2025-05-23 14:29:18.483] [DEBUG] [db.go:140] Getting database instance
2025/05/23 14:29:24 [2025-05-23 14:29:24.654] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/23 14:29:24 [2025-05-23 14:29:24.654] [DEBUG] [db.go:140] Getting database instance
2025/05/23 14:29:24 [2025-05-23 14:29:24.655] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/23 14:29:24 [2025-05-23 14:29:24.655] [DEBUG] [db.go:140] Getting database instance
2025/05/23 14:29:24 [2025-05-23 14:29:24.656] [TRACE] [itemRoutes.go:308] Entering itemRoutes.go:308
2025/05/23 14:29:24 [2025-05-23 14:29:24.656] [INFO] [itemRoutes.go:309] Starting HandleStockOut operation
2025/05/23 14:29:24 [2025-05-23 14:29:24.656] [INFO] [itemRoutes.go:314] User handling stock out: idjjm92@gmail.com
2025/05/23 14:29:24 [2025-05-23 14:29:24.656] [DEBUG] [itemRoutes.go:322] Reading request body
2025/05/23 14:29:24 [2025-05-23 14:29:24.656] [DEBUG] [itemRoutes.go:331] Unmarshaling request JSON
2025/05/23 14:29:24 [2025-05-23 14:29:24.656] [DEBUG] [itemRoutes.go:333] Request content: {Stock:{StockId:33 ItemId:46 BoxNumber:3 SingleNumber:0 BundleNumber:0 ExpiryDate:2025-06-17 08:46:32 +0000 UTC Location: RegisteringPerson:정지명 Notes: CreatedAt:2025-05-18 09:46:40 +0000 UTC} StockType:BOX Quantity:1 UserEmail: Date:0001-01-01 00:00:00 +0000 UTC Notes:}
2025/05/23 14:29:24 [2025-05-23 14:29:24.656] [DEBUG] [itemRoutes.go:342] Validating request
2025/05/23 14:29:24 [2025-05-23 14:29:24.656] [DEBUG] [itemRoutes.go:355] Stock type: BOX
2025/05/23 14:29:24 [2025-05-23 14:29:24.656] [DEBUG] [itemRoutes.go:364] Current stock: 3, Requested quantity: 1, Remaining: 2
2025/05/23 14:29:24 [2025-05-23 14:29:24.656] [INFO] [itemRoutes.go:376] Getting database instance and starting transaction
2025/05/23 14:29:24 [2025-05-23 14:29:24.656] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/23 14:29:24 [2025-05-23 14:29:24.656] [DEBUG] [db.go:140] Getting database instance
2025/05/23 14:29:24 [2025-05-23 14:29:24.658] [INFO] [itemRoutes.go:397] Updating stock quantity
2025/05/23 14:29:24 [2025-05-23 14:29:24.658] [DEBUG] [itemRoutes.go:405] Stock quantity updated successfully
2025/05/23 14:29:24 [2025-05-23 14:29:24.658] [INFO] [itemRoutes.go:420] Recording stock transaction
2025/05/23 14:29:24 [2025-05-23 14:29:24.659] [DEBUG] [itemRoutes.go:428] Transaction recorded successfully
2025/05/23 14:29:24 [2025-05-23 14:29:24.659] [INFO] [itemRoutes.go:431] Committing transaction
2025/05/23 14:29:24 [2025-05-23 14:29:24.661] [INFO] [itemRoutes.go:438] Transaction committed successfully
2025/05/23 14:29:24 [2025-05-23 14:29:24.661] [INFO] [itemRoutes.go:444] Fetching updated stock list for item: 46
2025/05/23 14:29:24 [2025-05-23 14:29:24.661] [TRACE] [item.go:490] Entering item.go:490
2025/05/23 14:29:24 [2025-05-23 14:29:24.661] [INFO] [item.go:491] Getting stocks for item ID: 46
2025/05/23 14:29:24 [2025-05-23 14:29:24.661] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/23 14:29:24 [2025-05-23 14:29:24.661] [DEBUG] [db.go:140] Getting database instance
2025/05/23 14:29:24 [2025-05-23 14:29:24.661] [DEBUG] [item.go:506] Executing query: SELECT stock_id, fkproduct_id, box_number, single_number, bundle_number, expiry_date, location, registering_person, notes, created_at FROM stocks WHERE fkproduct_id = ? with item ID: 46
2025/05/23 14:29:24 [2025-05-23 14:29:24.661] [DEBUG] [item.go:534] Found stock: ID=33, BoxNumber=2, Location=
2025/05/23 14:29:24 [2025-05-23 14:29:24.661] [INFO] [item.go:545] Retrieved 1 stocks for item 46
2025/05/23 14:29:24 [2025-05-23 14:29:24.661] [TRACE] [item.go:546] Exiting item.go:546
2025/05/23 14:29:24 [2025-05-23 14:29:24.661] [DEBUG] [itemRoutes.go:452] Successfully fetched 1 updated stock records
2025/05/23 14:29:24 [2025-05-23 14:29:24.661] [INFO] [itemRoutes.go:455] Fetching updated item data for item: 46
2025/05/23 14:29:24 [2025-05-23 14:29:24.661] [TRACE] [item.go:438] Entering item.go:438
2025/05/23 14:29:24 [2025-05-23 14:29:24.661] [INFO] [item.go:439] Getting item by ID: 46
2025/05/23 14:29:24 [2025-05-23 14:29:24.661] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/23 14:29:24 [2025-05-23 14:29:24.661] [DEBUG] [db.go:140] Getting database instance
2025/05/23 14:29:24 [2025-05-23 14:29:24.661] [DEBUG] [item.go:458] Executing query: SELECT item_id, code, IFNULL(barcode, ''), IFNULL(name, ''), IFNULL(type, ''), IFNULL(available_for_order, 0), IFNULL(image_path, ''), created_at, IFNULL(name_jpn, ''), IFNULL(name_chn, ''), IFNULL(name_kor, ''), IFNULL(name_eng, '') FROM items WHERE item_id = ? with item ID: 46
2025/05/23 14:29:24 [2025-05-23 14:29:24.662] [INFO] [item.go:484] Successfully retrieved item: ID=46, Name='치킨 불닭 오리지날 멀티팩', Code=105095
2025/05/23 14:29:24 [2025-05-23 14:29:24.662] [TRACE] [item.go:486] Exiting item.go:486
2025/05/23 14:29:24 [2025-05-23 14:29:24.662] [DEBUG] [itemRoutes.go:463] Successfully fetched updated item data
2025/05/23 14:29:24 [2025-05-23 14:29:24.662] [INFO] [itemRoutes.go:469] Preparing response with updated item and stock information
2025/05/23 14:29:24 [2025-05-23 14:29:24.662] [INFO] [itemRoutes.go:477] Stock out operation completed successfully
2025/05/23 14:29:24 [2025-05-23 14:29:24.662] [TRACE] [itemRoutes.go:479] Exiting itemRoutes.go:479
2025/05/23 14:30:47 [2025-05-23 14:30:47.176] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/23 14:30:47 [2025-05-23 14:30:47.176] [DEBUG] [db.go:140] Getting database instance
2025/05/23 14:30:47 [2025-05-23 14:30:47.177] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/23 14:30:47 [2025-05-23 14:30:47.177] [DEBUG] [db.go:140] Getting database instance
2025/05/23 14:30:47 [2025-05-23 14:30:47.177] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/23 14:30:47 [2025-05-23 14:30:47.177] [DEBUG] [db.go:140] Getting database instance
2025/05/23 14:31:08 [2025-05-23 14:31:08.986] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/23 14:31:08 [2025-05-23 14:31:08.986] [DEBUG] [db.go:140] Getting database instance
2025/05/23 14:31:08 [2025-05-23 14:31:08.988] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/23 14:31:08 [2025-05-23 14:31:08.988] [DEBUG] [db.go:140] Getting database instance
2025/05/23 14:31:08 [2025-05-23 14:31:08.989] [DEBUG] [db.go:111] Getting database configuration from environment variables
2025/05/23 14:31:08 [2025-05-23 14:31:08.989] [DEBUG] [db.go:140] Getting database instance
